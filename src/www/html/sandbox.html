<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>CosyVerif Sandbox</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    
    <body>
        <!--script src="js/lua.js"></script-->
        <script type="text/javascript" lang="JavaScript" src="/js/lua.vm.js"></script>
        <script type="text/lua" lang="Lua" id="luascript">
local location = js.global.location
coroutine      = require (location.origin .. "/lua/coroutine.make") ()
local function main ()
  return xpcall (function ()
    local loader   = require (location.origin .. "/lua/cosy.loader")
    local lib      = loader.hotswap "cosy.js"
    
    local client   = lib.connect "ws://127.0.0.1:8080/"
  local info  = client.tos ()
    js.global.console:log (loader.value.expression (info))
    
  end, function (err)
    js.global.console:log ("error: " .. tostring (err))
    js.global.console:log (debug.traceback ())
  end)
end
local co = coroutine.create (main)
coroutine.resume (co)
        </script>
    </body> 
</html>
